# ClashYamlParser
提供类似Clash for Windows中parser功能的服务器应用程序。| A server application provides clash parser feature likes Clash for Windows. ([切换到中文文档](https://github.com/LeoChen98/ClashYamlParser/blob/master/README-CN.md))

![GitHub License](https://img.shields.io/github/license/LeoChen98/ClashYamlParser)
![GitHub Release](https://img.shields.io/github/v/release/LeoChen98/ClashYamlParser)
![GitHub Repo stars](https://img.shields.io/github/stars/LeoChen98/ClashYamlParser)

## Feature
- ### parsers
    - [x] prepend-rlues
    - [x] append-rules
    - [x] prepend-proxies
    - [x] append-proxies
    - [x] prepend-proxy-groups
    - [x] append-proxy-groups
    - [ ] command
- ### misc
    - [x] Subscription-Userinfo (shows usage and expire in Clash for Windows)
    - [x] server log
    - [ ] SSL connection (HTTPS) **Therefore, if you need to use SSL connections in this service, consider using CDN and returning to the source using HTTP (not HTTPS) protocol.**

## Dependencies and Compatibility
- [.NET 8.0 Runtime](https://dotnet.microsoft.com/en-us/download/dotnet/8.0#runtime-8.0.6) is required.
- Only tested under `Windows 11` and `Windows Server 2012`. Theoretically, it has full platform compatibility.
- Only tested with `Clash for Windows` and `Clash for Android`. Theoretically compatible with all branch versions of clash.
 
## How to use
*All path mentioned following are relative to the root folder of the `ClashYamlParser.exe`*.
- Download the [latest release](https://github.com/LeoChen98/ClashYamlParser/releases/latest) file.
- Setup `domain.txt` with the domain you want to bind, the format refer to [Microsoft Learn](https://learn.microsoft.com/zh-cn/dotnet/fundamentals/runtime-libraries/system-net-httplistener), one line per domain.
- Copy your clash parsers config from Clash for Windows, and create the file `parser.yaml` with it.
- Run `ClashYamlParser.exe` with Administrator permission.
- Subcribe the profile via URL. Example: `http(s)://example.com:port/clash/?url=your origin clash profile url`.

## How to contribute
Issues and pull requests are both welcome, **pull requests prefered**.

## Third party code list
- ### YamlDotNet(15.3.0)
    Licensed under MIT license.
- ### ChatGPT4
    Partial code generated by ChatGPT4.